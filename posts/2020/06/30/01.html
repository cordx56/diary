<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>diary - リモート輪読 / 実装</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP">
        <link rel="stylesheet" href="../../../../css/base.css">
    </head>
    <body>
        <header>
            <div class="content">
                <div class="logo">
                    <a href="../../../../">diary</a>
                </div>
                <nav>
                    <a href="../../../../">Home</a> | 
                    <a href="../../../../archive.html">Archive</a>
                </nav>
            </div>
        </header>

        <main class="content" role="main">
            <h1>リモート輪読 / 実装</h1>
            <article>
    <section class="header">
        Posted on June 30, 2020 23:00
        
    </section>
    <section>
        <p>リモート輪読をやった。 後は研究の実装を少しやって、それ以外の時間は寝ていた。</p>
<h1 id="研究の実装">研究の実装</h1>
<p><code>get_type_candidate</code>関数にSet型とTuple型を追加で対応させた。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>    <span class="cf">elif</span> astobj.__class__.<span class="va">__name__</span> <span class="op">==</span> <span class="st">'Set'</span>:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>        eltsType <span class="op">=</span> []</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>        <span class="cf">for</span> e <span class="kw">in</span> astobj.elts:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>            eltsType.extend(get_type_candidate(context, e))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>        <span class="cf">return</span> [<span class="st">'Set[</span><span class="sc">{}</span><span class="st">]'</span>.<span class="bu">format</span>(get_type_str_from_candidate(eltsType))]</span></code></pre></div>
<p>と</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>    <span class="cf">elif</span> astobj.__class__.<span class="va">__name__</span> <span class="op">==</span> <span class="st">'Tuple'</span>:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>        eltsType <span class="op">=</span> []</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>        <span class="cf">for</span> e <span class="kw">in</span> astobj.elts:</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>            eltsType.append(get_type_candidate(context, e))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>        <span class="cf">return</span> [<span class="st">'Tuple[</span><span class="sc">{}</span><span class="st">]'</span>.<span class="bu">format</span>(<span class="st">', '</span>.join(<span class="bu">map</span>(get_type_str_from_candidate, eltsType)))]</span></code></pre></div>
<p>みたいな感じ。</p>
<p>これで大体の型は網羅できたんじゃないかと思う。 あとは型推論部分の実装だが……</p>
    </section>
</article>

        </main>

        <footer>
            &copy; 2020 cordx56
            |
            Site generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
    </body>
</html>
